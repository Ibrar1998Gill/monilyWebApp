<app-breadcrumb
  [title]="'Expenses'"
  [active_item]="'Expenses'"
></app-breadcrumb>
<div class="container">
  <div class="row">
    <div class="col-lg-12">
      <div class="card">
        <div class="card-body default-accordion">
          <ngb-accordion
            #acc="ngbAccordion"
            [closeOthers]="true"
            activeIds="static-1"
          >
            <ngb-panel title="Expenses" id="static-1">
              <ng-template ngbPanelContent>
                <div class="card o-hidden cstmCard">
                  <div class="bg-primary b-r-4 card-body">
                    <div class="media static-top-widget flex-column">
                      <div class="media-body w-100">
                        <div class="row mt-3 mb-3">
                          <div class="col-sm-6">
                            <span class="m-0">Yearly</span>
                          </div>
                          <div class="col-sm-6">
                            
                            <span class="mb-0 counter">{{
                              yearlyExpenses == null ? (0 | currency:'USD') : yearlyExpenses | currency:'USD'
                            }}</span>
                          </div>
                        </div>
                        <div class="row mt-3 mb-3">
                          <div class="col-sm-6">
                            <span class="m-0">Quaterly</span>
                          </div>
                          <div class="col-sm-6">
                            
                            <span class="mb-0 counter">{{
                              quarterlyExpenses == null ? (0 | currency:'USD') : quarterlyExpenses | currency:'USD'
                            }}</span>
                          </div>
                        </div>
                        <div class="row mt-3 mb-3">
                          <div class="col-sm-6">
                            <span class="m-0">Monthly</span>
                          </div>
                          <div class="col-sm-6">
                            
                            <span class="mb-0 counter">{{
                              currentMonthExpenses == null
                                ? (0 | currency:'USD')
                                : currentMonthExpenses | currency:'USD'
                            }}</span>
                          </div>
                        </div>
                        <i class="icon-bg" data-feather="dollar-sign"></i>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-template>
            </ngb-panel>
            <ngb-panel title="Biggest Expense Heads" id="static-2">
              <ng-template ngbPanelContent>
                <div class="card o-hidden cstmCard">
                  <div class="bg-primary b-r-4 card-body minHeight">
                    <div class="media static-top-widget">
                      <div class="media-body">
                        <i class="icon-bg" data-feather="dollar-sign"></i>
                        <div class="mt-3">
                          <google-chart [data]="pieChart3"></google-chart>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </ng-template>
            </ngb-panel>
            <!-- <ngb-panel title="Top 10 Transactions" id="static-3">
              <ng-template ngbPanelContent>
                <div class="col-sm-12">
                  <div class="table-responsive">
                    <table class="table table-hover">
                      <thead>
                        <tr>
                          <th scope="col">#</th>
                          <th scope="col">Payee</th>
                          <th scope="col">Category</th>
                          <th scope="col">Amount</th>
                          <th scope="col">Date</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let transaction of top10Expenses
                              | paginate
                                : {
                                    itemsPerPage: 5,
                                    currentPage: top10Page,
                                    totalItems: total
                                  }
                          "
                        >
                          <th scope="row">{{ transaction.id }}</th>
                          <td>
                            {{ transaction.Payee ? transaction.Payee : "N/A" }}
                          </td>
                          <td>{{ transaction.Category ? transaction.Category : "N/A" }}</td>
                          <td>{{ transaction.TotalAmt | currency: "USD" }}</td>
                          <td>{{ transaction.Date ? transaction.Date : "N/A" }}</td>
                        </tr>
                      </tbody>
                    </table>
                    <pagination-controls
                      (pageChange)="top10Page = $event"
                    ></pagination-controls>
                  </div>
                </div>
              </ng-template>
            </ngb-panel>
            <ngb-panel title="Recent Transactions" id="static-4">
              <ng-template ngbPanelContent>
                <div class="col-sm-12">
                  <div class="table-responsive">
                    <table class="table table-hover">
                      <thead>
                        <tr>
                          <th scope="col">#</th>
                          <th scope="col">Date</th>
                          <th scope="col">Name</th>
                          <th scope="col">Memo/Description</th>
                          <th scope="col">Account</th>
                          <th scope="col">Amount</th>
                        </tr>
                      </thead>
                      <tbody>
                        <tr
                          *ngFor="
                            let recentTransaction of recentTransactions
                              | paginate
                                : {
                                    itemsPerPage: 10,
                                    currentPage: recentPage,
                                    totalItems: total
                                  };let i = index
                          "
                        >
                          <th scope="row">{{ i }}</th>
                          <td>
                            <label class="descriptionCol">{{ recentTransaction[0].value ? (recentTransaction[0].value | date: 'dd/MM/yyyy') : "N/A" }}</label>
                          </td>
                          <td><label class="descriptionCol">{{ recentTransaction[4].value ? recentTransaction[4].value : "N/A" }}</label></td>
                          <td><label class="descriptionCol">{{ recentTransaction[6].value ? recentTransaction[6].value : "N/A" }}</label></td>
                          <td><label class="descriptionCol">{{ recentTransaction[7].value ? recentTransaction[7].value : "N/A" }}</label></td>
                          <td><label class="descriptionCol">{{ recentTransaction[9].value ? (recentTransaction[9].value | currency : "USD") : (0 | currency: "USD") }}</label></td>
                        </tr>
                      </tbody>
                    </table>
                    <pagination-controls
                      (pageChange)="recentPage = $event"
                    ></pagination-controls>
                  </div>
                </div>
              </ng-template>
            </ngb-panel> -->
          </ngb-accordion>
        </div>
      </div>
    </div>
  </div>
</div>
