{"version":3,"sources":["./src/app/components/apps/expenses/expenses-routing.module.ts","./src/app/components/apps/expenses/expenses.component.html","./src/app/components/apps/expenses/expenses.component.ts","./src/app/components/apps/expenses/expenses.module.ts"],"names":[],"mappings":"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","file":"src_app_components_apps_expenses_expenses_module_ts-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { expensesComponent } from './expenses.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'',\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:expensesComponent\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class expensesRoutingModule { }\r\n","<app-breadcrumb\r\n  [title]=\"'Expenses'\"\r\n  [active_item]=\"'Expenses'\"\r\n></app-breadcrumb>\r\n<div class=\"container\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body default-accordion\">\r\n          <ngb-accordion\r\n            #acc=\"ngbAccordion\"\r\n            [closeOthers]=\"true\"\r\n            activeIds=\"static-1\"\r\n          >\r\n            <ngb-panel title=\"Expenses\" id=\"static-1\">\r\n              <ng-template ngbPanelContent>\r\n                <div class=\"card o-hidden cstmCard\">\r\n                  <div class=\"bg-primary b-r-4 card-body\">\r\n                    <div class=\"media static-top-widget flex-column\">\r\n                      <div class=\"media-body w-100\">\r\n                        <div class=\"row mt-3 mb-3\">\r\n                          <div class=\"col-sm-6\">\r\n                            <span class=\"m-0\">Yearly</span>\r\n                          </div>\r\n                          <div class=\"col-sm-6\">\r\n                            \r\n                            <span class=\"mb-0 counter\">{{\r\n                              yearlyExpenses == null ? (0 | currency:'USD') : yearlyExpenses | currency:'USD'\r\n                            }}</span>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"row mt-3 mb-3\">\r\n                          <div class=\"col-sm-6\">\r\n                            <span class=\"m-0\">Quaterly</span>\r\n                          </div>\r\n                          <div class=\"col-sm-6\">\r\n                            \r\n                            <span class=\"mb-0 counter\">{{\r\n                              quarterlyExpenses == null ? (0 | currency:'USD') : quarterlyExpenses | currency:'USD'\r\n                            }}</span>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"row mt-3 mb-3\">\r\n                          <div class=\"col-sm-6\">\r\n                            <span class=\"m-0\">Monthly</span>\r\n                          </div>\r\n                          <div class=\"col-sm-6\">\r\n                            \r\n                            <span class=\"mb-0 counter\">{{\r\n                              currentMonthExpenses == null\r\n                                ? (0 | currency:'USD')\r\n                                : currentMonthExpenses | currency:'USD'\r\n                            }}</span>\r\n                          </div>\r\n                        </div>\r\n                        <i class=\"icon-bg\" data-feather=\"dollar-sign\"></i>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n            </ngb-panel>\r\n            <ngb-panel title=\"Biggest Expense Heads\" id=\"static-2\">\r\n              <ng-template ngbPanelContent>\r\n                <div class=\"card o-hidden cstmCard\">\r\n                  <div class=\"bg-primary b-r-4 card-body minHeight\">\r\n                    <div class=\"media static-top-widget\">\r\n                      <div class=\"media-body\">\r\n                        <i class=\"icon-bg\" data-feather=\"dollar-sign\"></i>\r\n                        <div class=\"mt-3\">\r\n                          <google-chart [data]=\"pieChart3\"></google-chart>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n            </ngb-panel>\r\n            <ngb-panel title=\"Top 10 Transactions\" id=\"static-3\">\r\n              <ng-template ngbPanelContent>\r\n                <div class=\"col-sm-12\">\r\n                  <div class=\"table-responsive\">\r\n                    <table class=\"table table-hover\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th scope=\"col\">#</th>\r\n                          <th scope=\"col\">Payee</th>\r\n                          <th scope=\"col\">Category</th>\r\n                          <th scope=\"col\">Amount</th>\r\n                          <th scope=\"col\">Date</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <tr\r\n                          *ngFor=\"\r\n                            let transaction of top10Expenses\r\n                              | paginate\r\n                                : {\r\n                                    itemsPerPage: 5,\r\n                                    currentPage: top10Page,\r\n                                    totalItems: total\r\n                                  }\r\n                          \"\r\n                        >\r\n                          <th scope=\"row\">{{ transaction.id }}</th>\r\n                          <td>\r\n                            {{ transaction.Payee ? transaction.Payee : \"N/A\" }}\r\n                          </td>\r\n                          <td>{{ transaction.Category ? transaction.Category : \"N/A\" }}</td>\r\n                          <td>{{ transaction.Amount | currency: \"USD\" }}</td>\r\n                          <td>{{ transaction.Date ? transaction.Date : \"N/A\" }}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                    <pagination-controls\r\n                      (pageChange)=\"top10Page = $event\"\r\n                    ></pagination-controls>\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n            </ngb-panel>\r\n            <ngb-panel title=\"Recent Transactions\" id=\"static-4\">\r\n              <ng-template ngbPanelContent>\r\n                <div class=\"col-sm-12\">\r\n                  <div class=\"table-responsive\">\r\n                    <table class=\"table table-hover\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th scope=\"col\">#</th>\r\n                          <th scope=\"col\">Payee</th>\r\n                          <th scope=\"col\">Category</th>\r\n                          <th scope=\"col\">Amount</th>\r\n                          <th scope=\"col\">Date</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <tr\r\n                          *ngFor=\"\r\n                            let transaction of RecentTranSort\r\n                              | paginate\r\n                                : {\r\n                                    itemsPerPage: 5,\r\n                                    currentPage: recentPage,\r\n                                    totalItems: total\r\n                                  }\r\n                          \"\r\n                        >\r\n                          <th scope=\"row\">{{ transaction.id }}</th>\r\n                          <td>\r\n                            {{ transaction.Payee ? transaction.Payee : \"N/A\" }}\r\n                          </td>\r\n                          <td>{{ transaction.Category ? transaction.Category : \"N/A\" }}</td>\r\n                          <td>{{ transaction.Amount | currency: \"USD\" }}</td>\r\n                          <td>{{ transaction.Date ? transaction.Date : \"N/A\" }}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                    <pagination-controls\r\n                      (pageChange)=\"recentPage = $event\"\r\n                    ></pagination-controls>\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n            </ngb-panel>\r\n          </ngb-accordion>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { HelperService } from \"src/app/shared/services/helper.service\";\r\nimport { LocalService } from \"src/app/shared/services/local.service\";\r\nimport * as moment from \"moment\";\r\nimport { AuthService } from \"src/app/shared/services/firebase/auth.service\";\r\nimport { ToastrService } from \"ngx-toastr\";\r\n@Component({\r\n  selector: \"app-expenses\",\r\n  templateUrl: \"./expenses.component.html\",\r\n  styleUrls: [\"./expenses.component.scss\"],\r\n})\r\nexport class expensesComponent implements OnInit {\r\n  secondary_color = localStorage.getItem(\"secondary_color\") || \"#f73164\";\r\n  primary_color = localStorage.getItem(\"primary_color\") || \"#5330ab\";\r\n  companyid: any;\r\n  page: number = 1;\r\n  totalPage = [];\r\n  mutableData: any = [];\r\n  mutablePieData: any = {};\r\n  pieArray: any = [[\"Task\", \"expenses\"]];\r\n  RecentTranSort: any;\r\n  RecentTransaction: any;\r\n  top10Expenses: any;\r\n  currentMonthExpenses: any;\r\n  quarterlyExpenses: any;\r\n  yearlyExpenses: any;\r\n  monthlyData: any;\r\n  yearlyData: any;\r\n  quaterlyData: any;\r\n  totalExpenses: number;\r\n  pieChart3: any = {\r\n    chartType: \"PieChart\",\r\n    dataTable: this.pieArray,\r\n    options: {\r\n      width: \"100%\",\r\n      height: 300,\r\n      colors: [\r\n        \"#f8d62b\",\r\n        \"#51bb25\",\r\n        \"#a927f9\",\r\n        this.secondary_color,\r\n        this.primary_color,\r\n      ],\r\n      backgroundColor: \"#FEF5ED\",\r\n    },\r\n  };\r\n  constructor(\r\n    private localService: LocalService,\r\n    private helperService: HelperService,\r\n    private http: AuthService,\r\n    private toasterService:ToastrService\r\n  ) {\r\n  }\r\n  ngOnInit(): void {\r\n    this.companyid = this.localService.getJsonValue(\"company\");\r\n    this.mutableData = [];\r\n    if (this.companyid != null) {\r\n      this.revenueGenerate();\r\n    }\r\n    else return\r\n    this.getExpenses()\r\n  }\r\n  getExpenses() {\r\n    this.http.getMonilyData(`query?id=${this.companyid.id}&_query=select * from purchase startposition 1`, true).subscribe((res: any) => {\r\n      let ExpenseDate = []\r\n      if(res?.data != null){\r\n        res?.data?.QueryResponse?.Purchase.map(expense => {\r\n          ExpenseDate.push(expense)\r\n        })\r\n        let prices = [];\r\n        ExpenseDate.map((expense) => {\r\n          let memo = expense.PrivateNote;\r\n          let txnDate = expense.TxnDate;\r\n          let payee = expense.EntityRef ? expense.EntityRef.name : \"\";\r\n          let category =\r\n            expense.Line[0].AccountBasedExpenseLineDetail.AccountRef.name;\r\n          this.mutableData.push({\r\n            Date: txnDate,\r\n            Payee: payee,\r\n            Category: category,\r\n            Memo: memo,\r\n            Amount: expense.TotalAmt,\r\n            id: expense.Id,\r\n          });\r\n          if (this.mutablePieData[category]) {\r\n            this.mutablePieData[category] += parseFloat(expense.TotalAmt);\r\n          } else {\r\n            this.mutablePieData[category] = parseFloat(expense.TotalAmt);\r\n          }\r\n        });\r\n        for (const key in this.mutablePieData) {\r\n          let val = Math.round(this.mutablePieData[key]);\r\n          this.pieArray.push([key, val]);\r\n          prices.push(val);\r\n        }\r\n  \r\n        var sum = prices.reduce(function (a, b) {\r\n          return a + b;\r\n        }, 0);\r\n        this.totalExpenses = sum;\r\n        let sortedDesc = this.mutableData.sort(function (a, b) {\r\n          return <any>new Date(b.Date) - <any>new Date(a.Date);\r\n        });\r\n        this.RecentTranSort = sortedDesc.slice(0, 10);\r\n        this.top10Expenses = this.helperService.top10ExpensesFunc(\r\n          this.mutableData\r\n        );\r\n        this.yearlyExpenses = this.helperService.getYearlyExpenses(\r\n          this.mutableData\r\n        );\r\n        const mutableQuarterly = this.helperService.getQuarterlyExpenses(\r\n          this.mutableData\r\n        );\r\n        this.quarterlyExpenses = parseFloat(\r\n          mutableQuarterly[Object.keys(mutableQuarterly).pop()]\r\n        ).toFixed(2);\r\n        this.currentMonthExpenses = this.helperService.getCurrentMonthExpenses(\r\n          this.mutableData\r\n        );\r\n        this.RecentTransaction = this.mutableData.slice(0, 10);\r\n        console.log(this.RecentTranSort, this.top10Expenses);\r\n      }\r\n      else{\r\n        this.toasterService.error(\"No data found, please try again after few minutes\")\r\n      }\r\n    }, err => {\r\n      console.log('====================================');\r\n      console.log(err, \"error hai\");\r\n      console.log('====================================');\r\n    })\r\n  }\r\n  revenueGenerate() {\r\n\r\n    // this.getExpenses()\r\n\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { CUSTOM_ELEMENTS_SCHEMA, NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { NgxDropzoneModule } from 'ngx-dropzone';\r\nimport { SharedModule } from '../../../shared/shared.module';\r\nimport { expensesComponent } from './expenses.component'\r\nimport { expensesRoutingModule } from './expenses-routing.module'\r\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\r\nimport { Ng2GoogleChartsModule } from 'ng2-google-charts';\r\nimport { NgxPaginationModule } from 'ngx-pagination'\r\nimport { NgApexchartsModule } from 'ng-apexcharts';\r\n@NgModule({\r\n  declarations: [expensesComponent],\r\n  imports: [\r\n    CommonModule,\r\n    expensesRoutingModule,\r\n    NgxDropzoneModule,\r\n    CKEditorModule,\r\n    NgSelectModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    SharedModule,\r\n    Ng2GoogleChartsModule,\r\n    NgxDatatableModule,\r\n    NgxPaginationModule,\r\n    NgApexchartsModule\r\n  ],\r\n})\r\nexport class expensesModule { }\r\n"],"sourceRoot":"webpack:///"}