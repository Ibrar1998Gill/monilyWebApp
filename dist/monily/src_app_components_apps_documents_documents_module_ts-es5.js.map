{"version":3,"sources":["webpack:///src/app/components/apps/documents/documents-routing.module.ts","webpack:///src/app/components/apps/documents/documents.component.html","webpack:///src/app/components/apps/documents/documents.component.ts","webpack:///src/app/components/apps/documents/documents.module.ts"],"names":["routes","path","children","component","documentsComponent","documentsRoutingModule","RouterModule","helperService","httpService","localService","fb","fileName","filesData","Reset","fileNames","sortDate","value","authToken","getJsonValue","searchbynameForm","group","searchByName","Validators","getImages","selectSortDropDown","startDate","endDate","event","uploadImage","getChat","userId","subscribe","res","sortData","data","map","e","push","original_filename","err","console","log","sort","a","b","Date","created_at","start","format","end","d","time","controls","toLowerCase","includes","selectedName","searchDate","selectSort","documentsModule","CommonModule","NgxDropzoneModule","CKEditorModule","NgSelectModule","FormsModule","ReactiveFormsModule","SharedModule","NgApexchartsModule"],"mappings":"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","file":"src_app_components_apps_documents_documents_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { documentsComponent } from './documents.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'',\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:documentsComponent\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class documentsRoutingModule { }\r\n","<app-breadcrumb [title]=\"'Documents'\" [active_item]=\"'Documents'\"></app-breadcrumb>\r\n<div class=\"container\">\r\n  <div class=\"row\">\r\n    <div class=\"col-sm-12\">\r\n      <div class=\"file-content\">\r\n        <div class=\"card\">\r\n          <div class=\"card-header dateHeader\">\r\n            <h4 class=\"mb-3 mt-3\">All Files</h4>\r\n            <form class=\"custom-datepicker custom-datepicker-dropdown\">\r\n              <label class=\"dateLabel\">From</label>\r\n              <div class=\"form-group mb-0\">\r\n                <div class=\"input-group\">\r\n                  <input class=\"form-control zIndex0\" readonly=\"true\" placeholder=\"YYYY-MM-DD\" [(ngModel)]=\"startDate\"\r\n                    ngbDatepicker #f=\"ngbDatepicker\">\r\n                  <div class=\"input-group-append position-relative\">\r\n                    <button class=\"calendarbtn\" (click)=\"f.toggle()\" type=\"button\"><i\r\n                        class=\"fa fa-calendar\"></i></button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <label class=\"dateLabel\">To</label>\r\n              <div class=\"form-group mb-0\">\r\n                <div class=\"input-group\">\r\n                  <input class=\"form-control zIndex0\" readonly=\"true\" [value]=\"currentDate\" placeholder=\"YYYY-MM-DD\"\r\n                    [(ngModel)]=\"endDate\" ngbDatepicker #d=\"ngbDatepicker\">\r\n                  <div class=\"input-group-append position-relative\">\r\n                    <button class=\"calendarbtn\" (click)=\"d.toggle()\" type=\"button\"><i\r\n                        class=\"fa fa-calendar\"></i></button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <button class=\"btn btn-primary\" (click)=\"searchDate()\"\r\n                [disabled]=\"startDate == null || endDate == null\">Search</button>\r\n            </form>\r\n          </div>\r\n          <div class=\"card-body file-manager\">\r\n            <div class=\"card-header dateHeader\">\r\n              <div class=\"row w-100\">\r\n                <div class=\"col-sm-4 d-flex justify-content-start\">\r\n                  <ng-select [(ngModel)]=\"selectSortDropDown\" placeholder=\"Sort by ...\" (change)=\"selectSort()\">\r\n                    <ng-option *ngFor=\"let time of sortDate\" [value]=\"time.value\">{{time.value}}</ng-option>\r\n                  </ng-select>\r\n                </div>\r\n                <div class=\"col-sm-4  d-flex justify-content-center align-items-center\">\r\n                  <button *ngIf=\"Reset\" class=\"btn btn-primary\" (click)=\"getImages()\">View all</button>\r\n                </div>\r\n                <div class=\"col-sm-4 d-flex justify-content-end align-items-center\">\r\n                  <ng-select [(ngModel)]=\"selectedName\" placeholder=\"Search by name....\">\r\n                    <ng-option *ngFor=\"let time of fileNames\" [value]=\"time\">{{time}}</ng-option>\r\n                  </ng-select>\r\n                  <button type=\"button\" class=\"btn btn-primary\" (click)=\"searchByName()\">Search</button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"row files\">\r\n              <div class=\"col-sm-3 mt-3 mb-3\" *ngFor=\"let item of filesData;\">\r\n                <a class=\"file-box w-100 h-100\"  href=\"{{item?.file_url}}\" target=\"_blank\">\r\n                  <div class=\"file-top\"> <i class=\"fa txt-primary\"\r\n                      [ngClass]=\"(item?.extension == 'png' || item?.extension == 'jpg' || item?.extension == 'jpeg' || item?.extension == 'svg') ? 'fa-file-image-o' : 'fa-file-text-o'\"></i></div>\r\n                  <div class=\"file-bottom\">\r\n                    <h6 class=\"filename\" placement=\"bottom\" ngbTooltip=\"{{item?.original_filename}}\">{{item?.original_filename}}</h6>\r\n                  </div>\r\n                  <div class=\"dateLabelFile\">\r\n                    <label>{{item?.created_at | date:'fullDate'}}</label>\r\n                  </div>\r\n                </a>\r\n              </div>\r\n              <div class=\"col-sm-12\" *ngIf=\"filesData.length < 1\">\r\n                <p class=\"text-center mt-5 mb-3\" style=\"font-size: 20px; color:#000;\">No Data Found</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- <div class=\"modal fade\" id=\"staticBackdrop\" data-bs-backdrop=\"static\" data-bs-keyboard=\"false\" tabindex=\"-1\"\r\n  aria-labelledby=\"staticBackdropLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog\">\r\n    <div class=\"modal-content\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"staticBackdropLabel\">Upload documents</h5>\r\n      </div>\r\n      <div class=\"modal-body d-flex justify-content-around align-items-center\">\r\n        <label for=\"upfile\" class=\"fileUp\">\r\n          <i class=\"fa fa-upload fa-3x\"></i>\r\n        </label>\r\n        <div style=\"height: 0px;width: 0px; overflow:hidden;\">\r\n          <input id=\"upfile\" type=\"file\" value=\"upload\" (change)=\"onFileSelected($event)\">\r\n        </div>\r\n        <form class=\"theme-form\" [formGroup]=\"commentForm\">\r\n          <div class=\"form-group\">\r\n            <label class=\"col-form-label\">Comment</label>\r\n            <input class=\"form-control\" type=\"text\" required=\"\" placeholder=\"Comment...\" formControlName=\"comment\">\r\n            <div *ngIf=\"commentForm.controls.comment.touched && commentForm.controls.email.errors?.required\"\r\n              class=\"text text-danger mt-1\">\r\n              Comments is required\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      <div class=\"modal-footer\">\r\n        <button type=\"button\" class=\"btn btn-secondary\" data-bs-dismiss=\"modal\">Cancel</button>\r\n        <button type=\"button\" class=\"btn btn-primary\">Upload</button>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div> -->","import { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\r\nimport { NgbDateStruct } from '@ng-bootstrap/ng-bootstrap';\r\nimport { AuthService } from 'src/app/shared/services/firebase/auth.service';\r\nimport { HelperService } from 'src/app/shared/services/helper.service';\r\nimport { LocalService } from 'src/app/shared/services/local.service';\r\nimport * as moment from 'moment';\r\n@Component({\r\n  selector: 'app-documents',\r\n  templateUrl: './documents.component.html',\r\n  styleUrls: ['./documents.component.scss']\r\n})\r\n\r\nexport class documentsComponent implements OnInit {\r\n  fileName = '';\r\n  public commentForm: FormGroup;\r\n  public searchbynameForm: FormGroup;\r\n  public filesData: any = []\r\n  startDate: any;\r\n  endDate: any;\r\n  date: { year: number, month: number };\r\n  selectSortDropDown;\r\n  currentDate;\r\n  Reset: boolean = false;\r\n  fileNames:any=[]\r\n  selectedName:string\r\n  // searchByName:string;\r\n  sortDate: any = [\r\n    { value: \"Sort by latest\" },\r\n    { value: \"Sort by earlier\" },\r\n  ];\r\n  constructor(private helperService: HelperService, private httpService: AuthService, private localService: LocalService,\r\n    private fb: FormBuilder) {\r\n    this.searchbynameForm = this.fb.group({\r\n      searchByName: [null, [Validators.required]]\r\n    });\r\n  }\r\n  public authToken = this.localService.getJsonValue('authUser')\r\n\r\n  ngOnInit(): void {\r\n    this.getImages()\r\n    this.selectSortDropDown = this.sortDate[0].value\r\n    this.startDate = null\r\n    this.endDate = null\r\n  }\r\n  onFileSelected(event) {\r\n    this.helperService.uploadImage(event, \"reven\")\r\n  }\r\n  getImages() {\r\n    this.httpService.getChat(`getFiles?user_id=${this.authToken.userId}`, true).subscribe((res: any) => {\r\n      this.filesData = this.sortData(res.data.data)\r\n      this.fileNames=[]\r\n      this.filesData?.map(e=>{\r\n        this.fileNames.push(e.original_filename)\r\n      })\r\n      this.Reset = false\r\n    }), err => {\r\n      console.log('====================================');\r\n      console.log(err);\r\n      console.log('====================================');\r\n    }\r\n  }\r\n  sortData(data) {\r\n    return data.sort((a, b) => {\r\n      return <any>new Date(b.created_at) - <any>new Date(a.created_at);\r\n    });\r\n  }\r\n  selectSort() {\r\n    if (this.selectSortDropDown == \"Sort by latest\") {\r\n      return this.filesData.sort((a, b) => {\r\n        return <any>new Date(b.created_at) - <any>new Date(a.created_at);\r\n      });\r\n    }\r\n    else {\r\n      return this.filesData.sort((a, b) => {\r\n        return <any>new Date(a.created_at) - <any>new Date(b.created_at);\r\n      });\r\n    }\r\n  }\r\n  searchDate() {\r\n    let start: any = moment(this.startDate).format('YYYY-MM-DD')\r\n    let end: any = moment(this.endDate).format('YYYY-MM-DD')\r\n    this.httpService.getChat(`getFiles?user_id=${this.authToken.userId}`, true).subscribe((res: any) => {\r\n      this.filesData = []\r\n      res.data.data.map(d => {\r\n        var time = moment(d.created_at).format('YYYY-MM-DD');\r\n        if (start < time && time < end) {\r\n          this.filesData.push(d)\r\n        }\r\n      })\r\n    }), err => {\r\n      console.log('====================================');\r\n      console.log(err);\r\n      console.log('====================================');\r\n    }\r\n  }\r\n  searchByName() {\r\n    this.httpService.getChat(`getFiles?user_id=${this.authToken.userId}`, true).subscribe((res: any) => {\r\n      if (this.searchbynameForm.controls['searchByName'].value == '') {\r\n        this.filesData = this.sortData(res.data.data)\r\n      }\r\n      else {\r\n        this.filesData = []\r\n        res.data.data.map(e => {\r\n          if (\r\n            e.original_filename.toLowerCase().includes(this.selectedName.toLowerCase())\r\n            // e.original_filename.toLowerCase() == this.searchbynameForm.controls['searchByName'].value.toLowerCase()\r\n            ) {\r\n              this.filesData.push(e)\r\n            }\r\n          });\r\n          this.Reset = true\r\n        }\r\n    }), err => {\r\n      console.log('====================================');\r\n      console.log(err);\r\n      console.log('====================================');\r\n    }\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { CUSTOM_ELEMENTS_SCHEMA, NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { NgxDropzoneModule } from 'ngx-dropzone';\r\nimport { SharedModule } from '../../../shared/shared.module';\r\nimport {NgApexchartsModule } from 'ng-apexcharts'\r\nimport { documentsComponent } from './documents.component';\r\nimport { documentsRoutingModule } from './documents-routing.module';\r\n@NgModule({\r\n  declarations: [documentsComponent],\r\n  imports: [\r\n    CommonModule,\r\n    documentsRoutingModule,\r\n    NgxDropzoneModule,\r\n    CKEditorModule,\r\n    NgSelectModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    SharedModule,\r\n    NgApexchartsModule\r\n  ],\r\n})\r\nexport class documentsModule { }\r\n"]}