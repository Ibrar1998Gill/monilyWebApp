{"version":3,"sources":["webpack:///src/app/components/apps/expenses/expenses-routing.module.ts","webpack:///src/app/components/apps/expenses/expenses.component.html","webpack:///src/app/components/apps/expenses/expenses.component.ts","webpack:///src/app/components/apps/expenses/expenses.module.ts"],"names":["routes","path","children","component","expensesComponent","expensesRoutingModule","RouterModule","localService","helperService","http","toasterService","secondary_color","localStorage","getItem","primary_color","page","totalPage","mutableData","mutablePieData","pieArray","pieChart3","chartType","dataTable","options","width","height","colors","backgroundColor","companyid","getJsonValue","revenueGenerate","getExpenses","getMonilyData","id","subscribe","res","ExpenseDate","data","QueryResponse","Purchase","map","expense","push","prices","memo","PrivateNote","txnDate","TxnDate","payee","EntityRef","name","category","Line","AccountBasedExpenseLineDetail","AccountRef","Date","Payee","Category","Memo","Amount","TotalAmt","Id","parseFloat","key","val","Math","round","sum","reduce","a","b","totalExpenses","sortedDesc","sort","RecentTranSort","slice","top10Expenses","top10ExpensesFunc","yearlyExpenses","getYearlyExpenses","mutableQuarterly","getQuarterlyExpenses","quarterlyExpenses","Object","keys","pop","toFixed","currentMonthExpenses","getCurrentMonthExpenses","RecentTransaction","console","log","error","err","expensesModule","CommonModule","NgxDropzoneModule","CKEditorModule","NgSelectModule","FormsModule","ReactiveFormsModule","SharedModule","Ng2GoogleChartsModule","NgxDatatableModule","NgxPaginationModule","NgApexchartsModule"],"mappings":"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","file":"src_app_components_apps_expenses_expenses_module_ts-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { expensesComponent } from './expenses.component';\r\n\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path:'',\r\n    children:[\r\n      {\r\n        path:'',\r\n        component:expensesComponent\r\n      }\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class expensesRoutingModule { }\r\n","<app-breadcrumb\r\n  [title]=\"'Expenses'\"\r\n  [active_item]=\"'Expenses'\"\r\n></app-breadcrumb>\r\n<div class=\"container\">\r\n  <div class=\"row\">\r\n    <div class=\"col-lg-12\">\r\n      <div class=\"card\">\r\n        <div class=\"card-body default-accordion\">\r\n          <ngb-accordion\r\n            #acc=\"ngbAccordion\"\r\n            [closeOthers]=\"true\"\r\n            activeIds=\"static-1\"\r\n          >\r\n            <ngb-panel title=\"Expenses\" id=\"static-1\">\r\n              <ng-template ngbPanelContent>\r\n                <div class=\"card o-hidden cstmCard\">\r\n                  <div class=\"bg-primary b-r-4 card-body\">\r\n                    <div class=\"media static-top-widget flex-column\">\r\n                      <div class=\"media-body w-100\">\r\n                        <div class=\"row mt-3 mb-3\">\r\n                          <div class=\"col-sm-6\">\r\n                            <span class=\"m-0\">Yearly</span>\r\n                          </div>\r\n                          <div class=\"col-sm-6\">\r\n                            \r\n                            <span class=\"mb-0 counter\">{{\r\n                              yearlyExpenses == null ? (0 | currency:'USD') : yearlyExpenses | currency:'USD'\r\n                            }}</span>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"row mt-3 mb-3\">\r\n                          <div class=\"col-sm-6\">\r\n                            <span class=\"m-0\">Quaterly</span>\r\n                          </div>\r\n                          <div class=\"col-sm-6\">\r\n                            \r\n                            <span class=\"mb-0 counter\">{{\r\n                              quarterlyExpenses == null ? (0 | currency:'USD') : quarterlyExpenses | currency:'USD'\r\n                            }}</span>\r\n                          </div>\r\n                        </div>\r\n                        <div class=\"row mt-3 mb-3\">\r\n                          <div class=\"col-sm-6\">\r\n                            <span class=\"m-0\">Monthly</span>\r\n                          </div>\r\n                          <div class=\"col-sm-6\">\r\n                            \r\n                            <span class=\"mb-0 counter\">{{\r\n                              currentMonthExpenses == null\r\n                                ? (0 | currency:'USD')\r\n                                : currentMonthExpenses | currency:'USD'\r\n                            }}</span>\r\n                          </div>\r\n                        </div>\r\n                        <i class=\"icon-bg\" data-feather=\"dollar-sign\"></i>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n            </ngb-panel>\r\n            <ngb-panel title=\"Biggest Expense Heads\" id=\"static-2\">\r\n              <ng-template ngbPanelContent>\r\n                <div class=\"card o-hidden cstmCard\">\r\n                  <div class=\"bg-primary b-r-4 card-body minHeight\">\r\n                    <div class=\"media static-top-widget\">\r\n                      <div class=\"media-body\">\r\n                        <i class=\"icon-bg\" data-feather=\"dollar-sign\"></i>\r\n                        <div class=\"mt-3\">\r\n                          <google-chart [data]=\"pieChart3\"></google-chart>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n            </ngb-panel>\r\n            <ngb-panel title=\"Top 10 Transactions\" id=\"static-3\">\r\n              <ng-template ngbPanelContent>\r\n                <div class=\"col-sm-12\">\r\n                  <div class=\"table-responsive\">\r\n                    <table class=\"table table-hover\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th scope=\"col\">#</th>\r\n                          <th scope=\"col\">Payee</th>\r\n                          <th scope=\"col\">Category</th>\r\n                          <th scope=\"col\">Amount</th>\r\n                          <th scope=\"col\">Date</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <tr\r\n                          *ngFor=\"\r\n                            let transaction of top10Expenses\r\n                              | paginate\r\n                                : {\r\n                                    itemsPerPage: 5,\r\n                                    currentPage: top10Page,\r\n                                    totalItems: total\r\n                                  }\r\n                          \"\r\n                        >\r\n                          <th scope=\"row\">{{ transaction.id }}</th>\r\n                          <td>\r\n                            {{ transaction.Payee ? transaction.Payee : \"N/A\" }}\r\n                          </td>\r\n                          <td>{{ transaction.Category ? transaction.Category : \"N/A\" }}</td>\r\n                          <td>{{ transaction.Amount | currency: \"USD\" }}</td>\r\n                          <td>{{ transaction.Date ? transaction.Date : \"N/A\" }}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                    <pagination-controls\r\n                      (pageChange)=\"top10Page = $event\"\r\n                    ></pagination-controls>\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n            </ngb-panel>\r\n            <ngb-panel title=\"Recent Transactions\" id=\"static-4\">\r\n              <ng-template ngbPanelContent>\r\n                <div class=\"col-sm-12\">\r\n                  <div class=\"table-responsive\">\r\n                    <table class=\"table table-hover\">\r\n                      <thead>\r\n                        <tr>\r\n                          <th scope=\"col\">#</th>\r\n                          <th scope=\"col\">Payee</th>\r\n                          <th scope=\"col\">Category</th>\r\n                          <th scope=\"col\">Amount</th>\r\n                          <th scope=\"col\">Date</th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody>\r\n                        <tr\r\n                          *ngFor=\"\r\n                            let transaction of RecentTranSort\r\n                              | paginate\r\n                                : {\r\n                                    itemsPerPage: 5,\r\n                                    currentPage: recentPage,\r\n                                    totalItems: total\r\n                                  }\r\n                          \"\r\n                        >\r\n                          <th scope=\"row\">{{ transaction.id }}</th>\r\n                          <td>\r\n                            {{ transaction.Payee ? transaction.Payee : \"N/A\" }}\r\n                          </td>\r\n                          <td>{{ transaction.Category ? transaction.Category : \"N/A\" }}</td>\r\n                          <td>{{ transaction.Amount | currency: \"USD\" }}</td>\r\n                          <td>{{ transaction.Date ? transaction.Date : \"N/A\" }}</td>\r\n                        </tr>\r\n                      </tbody>\r\n                    </table>\r\n                    <pagination-controls\r\n                      (pageChange)=\"recentPage = $event\"\r\n                    ></pagination-controls>\r\n                  </div>\r\n                </div>\r\n              </ng-template>\r\n            </ngb-panel>\r\n          </ngb-accordion>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n","import { Component, OnInit } from \"@angular/core\";\r\nimport { HelperService } from \"src/app/shared/services/helper.service\";\r\nimport { LocalService } from \"src/app/shared/services/local.service\";\r\nimport * as moment from \"moment\";\r\nimport { AuthService } from \"src/app/shared/services/firebase/auth.service\";\r\nimport { ToastrService } from \"ngx-toastr\";\r\n@Component({\r\n  selector: \"app-expenses\",\r\n  templateUrl: \"./expenses.component.html\",\r\n  styleUrls: [\"./expenses.component.scss\"],\r\n})\r\nexport class expensesComponent implements OnInit {\r\n  secondary_color = localStorage.getItem(\"secondary_color\") || \"#f73164\";\r\n  primary_color = localStorage.getItem(\"primary_color\") || \"#5330ab\";\r\n  companyid: any;\r\n  page: number = 1;\r\n  totalPage = [];\r\n  mutableData: any = [];\r\n  mutablePieData: any = {};\r\n  pieArray: any = [[\"Task\", \"expenses\"]];\r\n  RecentTranSort: any;\r\n  RecentTransaction: any;\r\n  top10Expenses: any;\r\n  currentMonthExpenses: any;\r\n  quarterlyExpenses: any;\r\n  yearlyExpenses: any;\r\n  monthlyData: any;\r\n  yearlyData: any;\r\n  quaterlyData: any;\r\n  totalExpenses: number;\r\n  pieChart3: any = {\r\n    chartType: \"PieChart\",\r\n    dataTable: this.pieArray,\r\n    options: {\r\n      width: \"100%\",\r\n      height: 300,\r\n      colors: [\r\n        \"#f8d62b\",\r\n        \"#51bb25\",\r\n        \"#a927f9\",\r\n        this.secondary_color,\r\n        this.primary_color,\r\n      ],\r\n      backgroundColor: \"#FEF5ED\",\r\n    },\r\n  };\r\n  constructor(\r\n    private localService: LocalService,\r\n    private helperService: HelperService,\r\n    private http: AuthService,\r\n    private toasterService:ToastrService\r\n  ) {\r\n  }\r\n  ngOnInit(): void {\r\n    this.companyid = this.localService.getJsonValue(\"company\");\r\n    this.mutableData = [];\r\n    if (this.companyid != null) {\r\n      this.revenueGenerate();\r\n    }\r\n    else return\r\n    this.getExpenses()\r\n  }\r\n  getExpenses() {\r\n    this.http.getMonilyData(`query?id=${this.companyid.id}&_query=select * from purchase startposition 1`, true).subscribe((res: any) => {\r\n      let ExpenseDate = []\r\n      if(res?.data != null){\r\n        res?.data?.QueryResponse?.Purchase.map(expense => {\r\n          ExpenseDate.push(expense)\r\n        })\r\n        let prices = [];\r\n        ExpenseDate.map((expense) => {\r\n          let memo = expense.PrivateNote;\r\n          let txnDate = expense.TxnDate;\r\n          let payee = expense.EntityRef ? expense.EntityRef.name : \"\";\r\n          let category =\r\n            expense.Line[0].AccountBasedExpenseLineDetail.AccountRef.name;\r\n          this.mutableData.push({\r\n            Date: txnDate,\r\n            Payee: payee,\r\n            Category: category,\r\n            Memo: memo,\r\n            Amount: expense.TotalAmt,\r\n            id: expense.Id,\r\n          });\r\n          if (this.mutablePieData[category]) {\r\n            this.mutablePieData[category] += parseFloat(expense.TotalAmt);\r\n          } else {\r\n            this.mutablePieData[category] = parseFloat(expense.TotalAmt);\r\n          }\r\n        });\r\n        for (const key in this.mutablePieData) {\r\n          let val = Math.round(this.mutablePieData[key]);\r\n          this.pieArray.push([key, val]);\r\n          prices.push(val);\r\n        }\r\n  \r\n        var sum = prices.reduce(function (a, b) {\r\n          return a + b;\r\n        }, 0);\r\n        this.totalExpenses = sum;\r\n        let sortedDesc = this.mutableData.sort(function (a, b) {\r\n          return <any>new Date(b.Date) - <any>new Date(a.Date);\r\n        });\r\n        this.RecentTranSort = sortedDesc.slice(0, 10);\r\n        this.top10Expenses = this.helperService.top10ExpensesFunc(\r\n          this.mutableData\r\n        );\r\n        this.yearlyExpenses = this.helperService.getYearlyExpenses(\r\n          this.mutableData\r\n        );\r\n        const mutableQuarterly = this.helperService.getQuarterlyExpenses(\r\n          this.mutableData\r\n        );\r\n        this.quarterlyExpenses = parseFloat(\r\n          mutableQuarterly[Object.keys(mutableQuarterly).pop()]\r\n        ).toFixed(2);\r\n        this.currentMonthExpenses = this.helperService.getCurrentMonthExpenses(\r\n          this.mutableData\r\n        );\r\n        this.RecentTransaction = this.mutableData.slice(0, 10);\r\n        console.log(this.RecentTranSort, this.top10Expenses);\r\n      }\r\n      else{\r\n        this.toasterService.error(\"No data found, please try again after few minutes\")\r\n      }\r\n    }, err => {\r\n      console.log('====================================');\r\n      console.log(err, \"error hai\");\r\n      console.log('====================================');\r\n    })\r\n  }\r\n  revenueGenerate() {\r\n\r\n    // this.getExpenses()\r\n\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { CUSTOM_ELEMENTS_SCHEMA, NgModule, NO_ERRORS_SCHEMA } from '@angular/core';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\nimport { CKEditorModule } from '@ckeditor/ckeditor5-angular';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { NgxDropzoneModule } from 'ngx-dropzone';\r\nimport { SharedModule } from '../../../shared/shared.module';\r\nimport { expensesComponent } from './expenses.component'\r\nimport { expensesRoutingModule } from './expenses-routing.module'\r\nimport { NgxDatatableModule } from '@swimlane/ngx-datatable';\r\nimport { Ng2GoogleChartsModule } from 'ng2-google-charts';\r\nimport { NgxPaginationModule } from 'ngx-pagination'\r\nimport { NgApexchartsModule } from 'ng-apexcharts';\r\n@NgModule({\r\n  declarations: [expensesComponent],\r\n  imports: [\r\n    CommonModule,\r\n    expensesRoutingModule,\r\n    NgxDropzoneModule,\r\n    CKEditorModule,\r\n    NgSelectModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    SharedModule,\r\n    Ng2GoogleChartsModule,\r\n    NgxDatatableModule,\r\n    NgxPaginationModule,\r\n    NgApexchartsModule\r\n  ],\r\n})\r\nexport class expensesModule { }\r\n"]}